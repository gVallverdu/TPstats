{% extends 'collectDatas/base.html' %}

{% block content %}
    <div class="page-header">
        <div class="pull-right btn-toolbar" role="toolbar">
            <div class="btn-group" role="group">
                {% if user.is_authenticated %}
                    <a href="{% url 'edit_experiment' exp_id=exp.pk %}" class="btn btn-primary" aria-label="Remove">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        Edit experiment
                    </a>
                    <a href="{% url 'delete_experiment' exp_id=exp.pk %}" class="btn btn-danger" aria-label="Remove">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                        Delete experiment
                    </a>
                {% else %}
                    <a href="{% url 'django.contrib.auth.views.login' %}" class="btn btn-default" aria-label="Login">
                        <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                        Login
                    </a>
                {% endif %}
            </div>
        </div>
        <h2>{{ exp.name }} <small>({{ exp.date }})</small></h2>
    </div>

    <div class="btn-toolbar" role="toolbar">
        <div class="btn-group" role="group">
            <a href="{% url 'manage_measures' exp_id=exp.pk %}" class="btn btn-default" aria-label="Manage">
                <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                Manage measures
            </a>
            <a href="{% url 'download_exp_data' exp_id=exp.pk %}" role="button" class="btn btn-default" aria-label="Remove">
                <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>
                Download data in CSV format
            </a>
        </div>
    </div>

    <h3>Description :</h3>

    <p>{{ exp.description }}</p>

    <h3>Plots :</h3>

    <div class="row">
        <div class="col-md-6">
            <img src="{% url 'plot_experiment' exp_id=exp.pk %}" class="img-rounded img-responsive"/>

            <div class="btn-group btn-group-justified" role="group">
                <a href="{% url 'download_plot_experiment' exp_id=exp.pk %}" role="button" class="btn btn-success" aria-label="Remove">
                    <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>
                    Download a pdf of the plot
                </a>
            </div>
        </div>
        <div class="col-md-6">
        </div>
    </div>

    <h3>Measures :</h3>

    {{ htmldata | safe }}

    <!-- <ul>
    {% for measure in measures %}
        <li>
            {{ measure.glassware }} : {{ measure.value }} mL
            <a href="{% url 'delete_measure' measure_id=measure.pk %}">
                <button type="button" class="btn btn-default btn-xs" aria-label="Remove">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    Delete
                </button>
            </a>
        </li>
    {% endfor %}
    </ul> -->
{% endblock %}
